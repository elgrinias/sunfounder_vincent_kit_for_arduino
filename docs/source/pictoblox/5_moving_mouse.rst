.. _moving_mouse:

2.5 Κινούμενο ποντίκι
===================

Θα φτιάξουμε τώρα ένα παιχνίδι με ένα ποντίκι που ελέγχεται από το ποτενσιόμετρο.

Όταν κάνετε κλικ στην πράσινη σημαία, το ποντίκι στη σκηνή θα κινείται προς τα εμπρός και όταν περιστρέψετε το ποτενσιόμετρο, το ποντίκι θα αλλάζει κατεύθυνση κίνησης.

.. image:: img/6_mouse.png

Θα μάθετε
---------------------

- Την αρχή λειτουργίας του ποτενσιόμετρου
- Να διαβάζετε τον αναλογικό ακροδέκτη (pin) και τα εύρη τιμών του
- Την αντιστοίχιση ενός εύρους σε ένα άλλο
- Τη μετακίνηση και αλλαγή της κατεύθυνσης μορφής

Κατασκευάστε το κύκλωμα
-----------------------

Το ποτενσιόμετρο είναι ένα στοιχείο αντίστασης με 3 ακροδέκτες, οι 2 πλαϊνοί ακροδέκτες συνδέονται στα 5V και GND και ο μεσαίος ακροδέκτης συνδέεται στο A0. Μετά τη μετατροπή από τον μετατροπέα ADC της πλακέτας Arduino, το εύρος τιμών του ποτενσιόμετρου είναι 0-1023.

.. image:: img/circuit/potentiometer_circuit.png

* :ref:`cpn_breadboard`
* :ref:`cpn_potentiometer`


Προγραμματισμός
------------------

**1. Επιλέξτε μια μορφή**

Διαγράψτε την προεπιλεγμένη μορφή, κάντε κλικ στο κουμπί **Choose a Sprite** στην κάτω δεξιά γωνία της περιοχής των μορφών, πληκτρολογήστε τη λέξη **mouse** στο πλαίσιο αναζήτησης και, στη συνέχεια, κάντε κλικ πάνω του για να το προσθέσετε.

.. image:: img/6_sprite.png

**2. Δημιουργία μεταβλητής**.

Δημιουργήστε μια μεταβλητή με όνομα **value** για να αποθηκεύσετε την τιμή που θα διαβάσετε από το ποτενσιόμετρο.

Μόλις δημιουργηθεί, θα δείτε τη μεταβλητή **value** να εμφανίζεται μέσα στην παλέτα **Variables** και σε κατάσταση "επιλεγμένο", που σημαίνει ότι αυτή η μεταβλητή θα εμφανιστεί στη σκηνή.

.. image:: img/6_value.png

**3. Διαβάστε την τιμή του A0**

Αποθηκεύστε την τιμή που διαβάζετε από το A0 στη μεταβλητή **value**.

* [set my variable to 0]: Ορίστε την τιμή της μεταβλητής (εδώ στο 0)
* [read analog pin A0]: Διαβάστε την τιμή του A0(~A5) στο εύρος 0-1023.

.. image:: img/6_read_a0.png

Για να μπορείτε να διαβάζετε την τιμή "για πάντα", πρέπει να χρησιμοποιήσετε το μπλοκ [forever]. Κάντε κλικ σε αυτό το σενάριο για να το εκτελέσετε, περιστρέψτε το ποτενσιόμετρο και προς τις δύο κατευθύνσεις και θα δείτε ότι το εύρος τιμών είναι 0-1023.

.. image:: img/6_1023.png

**4. Μετακινήστε τη μορφή**

Χρησιμοποιήστε το μπλοκ [move steps] για να μετακινήσετε τη μορφή, εκτελέστε το σενάριο και θα δείτε τη μορφή να μετακινείται από τη μέση προς τα δεξιά.

.. image:: img/6_move.png

**5. Αλλαγή κατεύθυνσης της μορφής**

Τώρα αλλάξτε την κατεύθυνση της κίνησης της μορφής κατά την τιμή του A0. Δεδομένου ότι η τιμή του A0 κυμαίνεται από 0-1023, αλλά η κατεύθυνση περιστροφής του sprite είναι -180~180, πρέπει να χρησιμοποιηθεί ένα μπλοκ [map].

Προσθέστε επίσης το [when green flag clicked] στην αρχή για να ξεκινήσετε το σενάριο.

* [`point in direction <https://en.scratch-wiki.info/wiki/Point_in_Direction_()_(block)>`_]: Ρυθμίστε τη γωνία κατεύθυνσης της μορφής, από την παλέτα **Motion**.
* [map from to]: Map a range to another range. Αντιστοιχίστε ένα εύρος τιμών σε ένα άλλο.

.. image:: img/6_direction.png





